<%- include('../partials/header') %>

<h1>Add New Product</h1>

<% if (typeof error !== 'undefined') { %>
<div class="alert alert-danger"><%= error %></div>
<% } %>

<form method="POST" action="/products">
    <div class="mb-3">
        <label for="name" class="form-label">Product Name</label>
        <input type="text" class="form-control" id="name" name="name" value="<%= product.name || '' %>" required>
    </div>
    
    <div class="mb-3">
        <label for="price" class="form-label">Price</label>
        <input type="number" step="0.01" class="form-control" id="price" name="price" value="<%= product.price || '' %>" required>
    </div>
    
    <div class="mb-3">
        <label for="quantity" class="form-label">Quantity</label>
        <input type="number" class="form-control" id="quantity" name="quantity" value="<%= product.quantity || '' %>" required>
    </div>
    
    <div class="mb-3">
        <label for="supplierId" class="form-label">Supplier</label>
        <select class="form-control" id="supplierId" name="supplierId" required>
            <option value="">Select Supplier</option>
            <% suppliers.forEach(supplier => { %>
            <option value="<%= supplier._id %>" <%= product.supplierId == supplier._id ? 'selected' : '' %>>
                <%= supplier.name %>
            </option>
            <% }); %>
        </select>
    </div>
    
    <button type="submit" class="btn btn-success">Save Product</button>
    <a href="/products" class="btn btn-secondary">Cancel</a>
</form>

<%- include('../partials/footer') %>